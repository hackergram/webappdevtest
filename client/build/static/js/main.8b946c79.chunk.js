(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(e,t,n){e.exports=n.p+"static/media/close.a50ed734.svg"},42:function(e,t,n){e.exports=n.p+"static/media/info.6992069b.svg"},43:function(e,t,n){e.exports=n(66)},48:function(e,t,n){},64:function(e,t,n){e.exports=n.p+"static/media/twitter.7a17a52d.svg"},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(34),o=n.n(c),r=(n(48),n(11)),l=n(18),s=n.n(l),u=n(31),d=n.n(u),m=n(28),p=function(e){m.a.initialize(e)},h=function(e){m.a.pageview(e)},E=n(36),v=n(32),f=n(15);function b(e){var t=!1,n=e.onMarkerClick,c=e.videoData,o=e.totalCities,l=e.desktopSize,s=Object(a.useState)({latitude:21.2787,longitude:81.8661,width:"calc(var(--vw, 1vw) * 100)",height:"calc(var(--vh, 1vh) * 100)",zoom:window.innerWidth<l?3:4}),u=Object(r.a)(s,2),d=u[0],m=u[1],p=Object(a.useState)({x:0,y:0}),b=Object(r.a)(p,2),w=b[0],k=b[1],O=Object(a.useState)({x:0,y:0}),_=Object(r.a)(O,2),g=_[0],y=_[1],C=function(e){return!(d.zoom<6&&e<=3)};return Object(a.useEffect)((function(){window.addEventListener("resize",(function(){var e=window.innerWidth,t=window.innerHeight;m((function(n){return Object(E.a)({},n,{width:e,height:t})}))})),window.addEventListener("mousedown",(function(e){return k({x:e.clientX,y:e.clientY})})),window.addEventListener("mouseup",(function(e){return y({x:e.clientX,y:e.clientY})}))}),[]),i.a.createElement("div",{onClick:function(e){t||w.x!==g.x||w.y!==g.y||(n(e,null),t=!1)}},i.a.createElement(v.b,Object.assign({},d,{mapboxApiAccessToken:"pk.eyJ1IjoiaGFja2VyZ3JhbSIsImEiOiJjazhpb3B3ODkwNGN4M21tajhzOGRjbXVrIn0.QKSLcjCgwRvSnwkCBXOaHQ",onViewportChange:function(e){m(e)},mapStyle:"mapbox://styles/mapbox/streets-v11"}),o.map((function(e,a){return i.a.createElement(v.a,{key:a,latitude:Number(c[e].coordinates.latitude),longitude:Number(c[e].coordinates.longitude),offsetLeft:-24,offsetTop:-24},i.a.createElement("button",{className:"marker_btn",onClick:function(a){n(a,e),t=!0,h(e)}},i.a.createElement(f.b.div,{className:"marker_txt",style:{width:"calc(1rem + 0.2 * ".concat(String(c[e].blocks.length),"rem)"),height:"calc(1rem + 0.2 * ".concat(String(c[e].blocks.length),"rem)"),lineHeight:"calc(1rem + 0.2 * ".concat(String(c[e].blocks.length),"rem)")},initial:{scale:1},animate:{scale:1.05},transition:{yoyo:1/0,ease:"easeOut",duration:.5}},i.a.createElement("p",null,C(c[e].blocks.length)&&c[e].blocks.length)),C(c[e].blocks.length)&&i.a.createElement("p",{style:{color:"#fffcf2"}},e)))}))))}var w=n(38),k=n(39),O=n(41),_=n.n(O);function g(e){var t=e.selectedCity,n=e.videoData,c=e.onCityDetailClose,o=e.desktopSize,r=Object(f.d)(0),l=0,u=0,d=Object(a.useRef)(null),m=Object(f.c)(),p=Object(f.c)(),h=Object(f.c)(),E={ease:"easeOut",duration:.2},v={type:"spring",damping:16},b={open:window.innerWidth>o?{width:"30em",top:0,transition:v}:{width:"calc(var(--vw, 1vw) * 100)",top:"calc(var(--vh, 1vh) * 20)",transition:v},close:window.innerWidth>o?{width:0,top:0,y:0,transition:E}:{width:"calc(var(--vw, 1vw) * 100)",top:"calc(var(--vh, 1vh) * 100)",y:0,transition:E}},O={open:{opacity:1,y:0,transition:{ease:"easeOut"}},close:{opacity:0,y:10,transition:{ease:"linear"}}},g={top:0,transition:{ease:"linear",duration:.2}};return Object(a.useEffect)((function(){d.current.scrollTo(0,0),s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return m.start(b.open),e.next=4,s.a.awrap(p.start(O.open));case 4:h.start(O.open),e.next=12;break;case 7:return e.next=9,s.a.awrap(p.start(O.close));case 9:return e.next=11,s.a.awrap(h.start(O.close));case 11:m.start(b.close);case 12:case"end":return e.stop()}})),d.current.addEventListener("touchstart",(function(e){l=e.changedTouches[0].clientY})),d.current.addEventListener("touchend",(function(e){u=e.changedTouches[0].clientY,r.get()<=0&&u>l&&(c(),l=0,u=0)}))}),[t]),i.a.createElement(f.a,null,i.a.createElement(f.b.div,{className:"cityDetailView",ref:d,variants:b,initial:"close",exit:"close",animate:m,onScroll:function(e){r.set(e.nativeEvent.target.scrollTop),r.get()>0&&m.start(g)},style:{height:"calc(var(--vh, 1vh) * 100)",overflow:"scroll",scrollBehavior:"smooth",overscrollBehaviorY:"none"}},i.a.createElement(f.b.div,{className:"cityDetailView_Header",variants:O,initial:"close",animate:p},i.a.createElement("h1",null,t),i.a.createElement("button",{className:"close_btn",onClick:function(e){return c(e)}},i.a.createElement("img",{src:_.a,alt:"close icon"}))),i.a.createElement(f.b.div,{className:"cityDetailView_videoList",variants:O,initial:"close",animate:h},n[t].blocks.slice(0).reverse().map((function(e,t){if(-1!==e.link.indexOf("twitter.com")){var n=e.link.split(/\/?\//)[4].split("?")[0];return i.a.createElement("div",{className:"linkCard",key:n+t},i.a.createElement("p",null,e.date),i.a.createElement("h2",null,e.caption),i.a.createElement(w.a,{id:n,onLoad:function(e){e&&(e.style.display="inline-block")}}))}return-1!==e.link.indexOf("instagram.com")?i.a.createElement("div",{className:"linkCard",key:e.link+t},i.a.createElement("p",null,e.date),i.a.createElement("h2",null,e.caption),i.a.createElement(k.a,{url:e.link,onLoad:function(e){e&&(e.style.display="inline-block")}})):i.a.createElement("div",{className:"linkCard",key:t},i.a.createElement("p",null,e.date),i.a.createElement("h2",null,e.caption),i.a.createElement("a",{href:e.link,target:"_blank",className:"rawLink"},e.link," "))})))))}var y=n(42),C=n.n(y);n(64);function j(e){var t=e.handleAboutClicked;e.desktopSize;return i.a.createElement("ul",{className:"secNavContainer"},i.a.createElement("li",null,i.a.createElement("a",{href:"https://hackergram.org",datacontent:"\u0939\u0948\u0915\u0930gram Web Developer Puzzler #1",style:{backgroundImage:"url(".concat(C.a,")")},onClick:function(){t(),h("About")}})))}n(65);var N=function(){var e,t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(fetch("/getBlockData"));case 2:return e=n.sent,n.next=5,s.a.awrap(e.json());case 5:if(t=n.sent,200===e.status){n.next=8;break}throw Error(t.message);case 8:return n.abrupt("return",t);case 9:case"end":return n.stop()}}))},A={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_DATABASE_URL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_APP_ID,measurementId:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_MEASUREMENT_ID};var D=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)({}),l=Object(r.a)(o,2),s=l[0],u=l[1],m=Object(a.useState)([]),E=Object(r.a)(m,2),v=E[0],f=E[1],w=Object(a.useState)(!1),k=Object(r.a)(w,2),O=(k[0],k[1]);return Object(a.useEffect)((function(){d.a.initializeApp(A),p(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_GA_TRACKING_ID),h("Intro"),N().then((function(e){u(e.states);var t=Object.keys(e.states),n=window.location.href.split("#")[1];if(void 0!==n&&n.length>1){var a=n.charAt(0).toUpperCase()+n.slice(1);-1!==t.indexOf(a)&&c(a)}f(t)})).catch((function(e){return console.log(e)}))}),[]),i.a.createElement("div",{className:"app"},i.a.createElement(j,{handleAboutClicked:function(){window.location.hash="about",O(!0)}}),i.a.createElement(b,{className:"mapLayer",onMarkerClick:function(e,t){e.preventDefault(),t?(window.location.hash=t,window.scrollTo({top:0,left:0,behavior:"smooth"})):window.location.hash="",n!==t&&c(t)},videoData:s,totalCities:v,desktopSize:1024}),n&&i.a.createElement(g,{selectedCity:n,videoData:s,onCityDetailClose:function(e){e&&e.preventDefault(),c(null)},desktopSize:1024}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.8b946c79.chunk.js.map