{"version":3,"sources":["icons/close.svg","icons/info.svg","icons/twitter.svg","components/Tracking.js","components/MapLayer.js","components/CityDetailView.js","components/SecNav.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","initGA","trackingID","ReactGA","initialize","PageView","cityName","pageview","MapLayer","props","clickedOnMarker","onMarkerClick","videoData","totalCities","desktopSize","useState","latitude","longitude","width","height","zoom","window","innerWidth","viewport","setViewport","x","y","mouseDownPoint","setMouseDownPoint","mouseUpPoint","setMouseUpPoint","isZoomFriendly","size","useEffect","addEventListener","newWidth","newHeight","innerHeight","prevState","e","clientX","clientY","onClick","mapboxApiAccessToken","onViewportChange","mapStyle","map","city","index","key","Number","coordinates","offsetLeft","offsetTop","className","div","style","String","blocks","length","lineHeight","initial","scale","animate","transition","yoyo","Infinity","ease","duration","color","CityDetailView","selectedCity","onCityDetailClose","currentScrollValue","useMotionValue","touchStart","touchEnd","cityDetailViewEl","useRef","containerAnimControls","useAnimation","headerAnimControls","bodyAnimControls","closeTransition","openTransition","type","damping","variants","open","top","close","childVariants","opacity","scrollToTop","current","scrollTo","a","async","start","changedTouches","get","ref","exit","onScroll","set","nativeEvent","target","scrollTop","overflow","scrollBehavior","overscrollBehaviorY","src","alt","slice","reverse","videoObj","link","indexOf","id","split","date","caption","onLoad","display","url","href","SecNav","handleAboutClicked","datacontent","backgroundImage","info","fetchJSON","fetch","res","json","body","status","Error","message","config","apiKey","process","REACT_APP_API_KEY","authDomain","REACT_APP_AUTH_DOMAIN","databaseURL","REACT_APP_DATABASE_URL","projectId","REACT_APP_PROJECT_ID","storageBucket","REACT_APP_STORAGE_BUCKET","messagingSenderId","REACT_APP_MESSAGING_SENDER_ID","appId","REACT_APP_APP_ID","measurementId","REACT_APP_MEASUREMENT_ID","App","setSelectedCity","setVideoData","setTotalCities","setIsAboutOpen","Firebase","initializeApp","REACT_APP_GA_TRACKING_ID","then","states","citiesArray","Object","keys","hashCity","location","undefined","formattedHashCity","charAt","toUpperCase","catch","err","console","log","hash","preventDefault","left","behavior","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8b946c79.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/close.a50ed734.svg\";","module.exports = __webpack_public_path__ + \"static/media/info.6992069b.svg\";","module.exports = __webpack_public_path__ + \"static/media/twitter.7a17a52d.svg\";","import ReactGA from \"react-ga\";\n\nexport const initGA = (trackingID) => {           \n    ReactGA.initialize(trackingID); \n }\n\n export const PageView = (cityName) => {  \n    ReactGA.pageview(cityName); \n}\n\nexport const Event = (category, action, label) => {\n    ReactGA.event({\n      category: category,\n      action: action,\n      label: label\n    });\n  };","import React, {useState, useEffect} from 'react';\nimport ReactMapGL, {Marker} from 'react-map-gl';\nimport {motion} from 'framer-motion';\nimport {PageView } from \"./Tracking\";\n\nexport function MapLayer(props) {\n\n    let clickedOnMarker = false;\n    const {onMarkerClick, videoData, totalCities, desktopSize} = props;\n    const [viewport, setViewport] = useState({\n        latitude: 21.2787,\n        longitude: 81.8661,\n        width: 'calc(var(--vw, 1vw) * 100)',\n        height: 'calc(var(--vh, 1vh) * 100)',\n        zoom: (window.innerWidth < desktopSize ? 3 : 4)\n    })\n    const [mouseDownPoint, setMouseDownPoint] = useState({x: 0, y: 0})\n    const [mouseUpPoint, setMouseUpPoint] = useState({x: 0, y: 0})\n\n    const isZoomFriendly = (size) => {\n        return (viewport.zoom < 6 && size <= 3) ? false : true;\n    }\n\n    useEffect(()=> {\n        window.addEventListener('resize', () => {\n            let newWidth = window.innerWidth;\n            let newHeight = window.innerHeight;\n            setViewport(prevState => {return {...prevState, width: newWidth, height: newHeight}});\n          });\n        window.addEventListener('mousedown', e => setMouseDownPoint({x: e.clientX, y: e.clientY}));\n        window.addEventListener('mouseup', e => setMouseUpPoint({x:e.clientX, y:e.clientY}));\n    }, [])\n\n    return (\n        <div\n            onClick = {(e)=> {\n                if(!clickedOnMarker &&\n                    mouseDownPoint.x === mouseUpPoint.x &&\n                    mouseDownPoint.y === mouseUpPoint.y\n                    ){\n                        onMarkerClick(e, null);\n                        clickedOnMarker=false\n                    }\n                }\n            }\n        >\n        <ReactMapGL\n            {...viewport}\n            mapboxApiAccessToken={\"pk.eyJ1IjoiaGFja2VyZ3JhbSIsImEiOiJjazhpb3B3ODkwNGN4M21tajhzOGRjbXVrIn0.QKSLcjCgwRvSnwkCBXOaHQ\"}\n            onViewportChange = {viewport => {setViewport(viewport)}}\n            mapStyle=\"mapbox://styles/mapbox/streets-v11\"\n        >\n            {totalCities.map((city, index) => {\n                return (\n                    <Marker\n                        key={index}\n                        latitude = {Number(videoData[city].coordinates.latitude)}\n                        longitude = {Number(videoData[city].coordinates.longitude)}\n                        offsetLeft={-24}\n                        offsetTop={-24}\n                    >\n                        <button className='marker_btn' onClick={e => {onMarkerClick(e, city); clickedOnMarker=true; PageView(city)}}>\n                            <motion.div\n                                className=\"marker_txt\"\n                                style = {{\n                                    width: `calc(1rem + 0.2 * ${String(videoData[city].blocks.length)}rem)`,\n                                    height: `calc(1rem + 0.2 * ${String(videoData[city].blocks.length)}rem)`,\n                                    lineHeight: `calc(1rem + 0.2 * ${String(videoData[city].blocks.length)}rem)`\n                                }}\n                                initial = {{scale: 1}}\n                                animate= {{scale: 1.05}}\n                                transition = {{\n                                    yoyo: Infinity,\n                                    ease: 'easeOut',\n                                    duration: 0.5\n                                }}\n                                ><p>{isZoomFriendly(videoData[city].blocks.length) && videoData[city].blocks.length}</p>\n                            </motion.div>\n                            {isZoomFriendly(videoData[city].blocks.length) && <p style={{color: '#fffcf2'}}>{city}</p>}\n                        </button>\n                    </Marker>\n                )})\n            }\n        </ReactMapGL>\n        </div>\n    )\n}\n\n// STYLES:\n// mapbox://styles/kshivanku/ck4o1gm6303131enp3jldbqim\n","import React, { useEffect, useRef } from 'react';\nimport {motion, useMotionValue, useAnimation, AnimatePresence} from 'framer-motion';\nimport {TwitterVideoEmbed} from 'react-twitter-embed';\nimport InstagramEmbed from 'react-instagram-embed';\nimport close from '../icons/close.svg'\n\nexport function CityDetailView(props) {\n    const {selectedCity, videoData, onCityDetailClose, desktopSize } = props;\n    let currentScrollValue = useMotionValue(0);\n    let touchStart = 0;\n    let touchEnd = 0;\n    const cityDetailViewEl = useRef(null)\n    // let prevScrollValue = useMotionValue(0);\n    const containerAnimControls = useAnimation();\n    const headerAnimControls = useAnimation();\n    const bodyAnimControls = useAnimation();\n\n    const closeTransition = {ease: 'easeOut', duration: 0.2}\n    const openTransition = {type: 'spring', damping: 16}\n\n    const variants = {\n        open: (window.innerWidth > desktopSize) ? {width: '30em', top: 0, transition: openTransition}:{width: 'calc(var(--vw, 1vw) * 100)', top: 'calc(var(--vh, 1vh) * 20)', transition: openTransition},\n        close: (window.innerWidth > desktopSize) ? {width: 0, top: 0, y: 0, transition: closeTransition} : {width: 'calc(var(--vw, 1vw) * 100)', top: 'calc(var(--vh, 1vh) * 100)', y: 0, transition: closeTransition}\n    }\n\n    const childVariants = {\n        open: {opacity: 1, y: 0, transition: {ease: 'easeOut'}}, close: {opacity: 0, y: 10, transition: {ease: 'linear'}}\n    }\n\n    const scrollToTop = {top: 0, transition:{ease:'linear', duration: 0.2}}\n\n    const handleInOutAnimation = async () => {\n        if(selectedCity) {\n            containerAnimControls.start(variants.open)\n            await headerAnimControls.start(childVariants.open)\n            bodyAnimControls.start(childVariants.open)\n        }\n        else { \n            await headerAnimControls.start(childVariants.close)\n            await bodyAnimControls.start(childVariants.close)\n            containerAnimControls.start(variants.close)\n        }\n    }\n\n    useEffect(()=> {\n        cityDetailViewEl.current.scrollTo(0,0);\n        handleInOutAnimation();\n        cityDetailViewEl.current.addEventListener('touchstart', function(e){touchStart=e.changedTouches[0].clientY})\n        cityDetailViewEl.current.addEventListener('touchend', function(e) {\n        touchEnd = e.changedTouches[0].clientY;\n        if(currentScrollValue.get() <= 0 && touchEnd > touchStart) {\n            onCityDetailClose();\n            touchStart = 0;\n            touchEnd = 0;\n        }\n        });\n\n        // window.addEventListener('wheel', function() {\n        //     setTimeout(()=> {\n        //         if(currentScrollValue.get() === prevScrollValue.get()) {\n        //             onCityDetailClose();\n        //             prevScrollValue.set(0)\n        //         }\n        //         else {\n        //             prevScrollValue.set(currentScrollValue.get())\n        //         }\n        //     }, 500)\n        // })\n    }, [selectedCity])\n\n    return (\n        <AnimatePresence>\n            <motion.div\n                className=\"cityDetailView\"\n                ref = {cityDetailViewEl}\n                variants={variants}\n                initial=\"close\"\n                exit=\"close\"\n                animate = {containerAnimControls}\n                onScroll = {(e) => {\n                    currentScrollValue.set(e.nativeEvent.target.scrollTop);\n                    if(currentScrollValue.get() > 0) {\n                        containerAnimControls.start(scrollToTop)\n                    }\n                }}\n                style={{height: 'calc(var(--vh, 1vh) * 100)', overflow: 'scroll', scrollBehavior: 'smooth', overscrollBehaviorY: 'none'}}\n            >   \n                <motion.div \n                    className=\"cityDetailView_Header\" \n                    variants={childVariants}\n                    initial=\"close\"\n                    animate = {headerAnimControls}\n                >\n                    <h1>{selectedCity}</h1>\n                    <button className=\"close_btn\" onClick={(e) => onCityDetailClose(e)}>\n                        <img src={close} alt=\"close icon\" />\n                    </button>\n                </motion.div>\n                <motion.div \n                    className=\"cityDetailView_videoList\" \n                    variants={childVariants}\n                    initial=\"close\"\n                    animate={bodyAnimControls}\n                    \n                >\n                    {videoData[selectedCity].blocks.slice(0).reverse().map((videoObj, index) => {\n                        if(videoObj.link.indexOf('twitter.com') !== -1) {\n                            let id = videoObj.link.split(/\\/?\\//)[4].split('?')[0];\n                            return (\n                                <div className=\"linkCard\" key={id + index}>\n                                    <p>{videoObj.date}</p>\n                                    <h2>{videoObj.caption}</h2>\n                                    <TwitterVideoEmbed id={id} \n                                        onLoad={e => {if(e){e.style.display = \"inline-block\"}}} \n                                    />\n                                </div>\n                            )\n                        }\n                        else if(videoObj.link.indexOf('instagram.com') !== -1) {\n                            \n                            return (\n                                <div className=\"linkCard\" key={videoObj.link+ index}>\n                                    <p>{videoObj.date}</p>\n                                    <h2>{videoObj.caption}</h2>\n                                    <InstagramEmbed url={videoObj.link} \n                                        onLoad={e => {if(e){e.style.display = \"inline-block\"}}} \n                                    />\n                                </div>\n                            )\n                        }\n\n                        else {\n                            return (\n                                <div className=\"linkCard\" key={index}>\n                                    <p>{videoObj.date}</p>\n                                    <h2>{videoObj.caption}</h2>\n                                    <a href={videoObj.link} target=\"_blank\" className='rawLink'>{videoObj.link} </a>\n                                </div>\n                            )\n                        }   \n                    })}\n                </motion.div>  \n              \n            </motion.div>\n        </AnimatePresence>\n    )\n}","import React from 'react';\nimport info from '../icons/info.svg'\nimport twitter from '../icons/twitter.svg'\nimport {PageView, Event} from \"./Tracking\"\n\nexport function SecNav(props) {\n    let {handleAboutClicked, desktopSize} = props\n    return (\n        <ul className=\"secNavContainer\">\n            <li><a\n                href=\"https://hackergram.org\"\n                datacontent=\"हैकरgram Web Developer Puzzler #1\"\n                style={{backgroundImage: `url(${info})`}}\n                onClick={()=> {\n                    handleAboutClicked();\n                    PageView('About');\n            }}></a></li>\n            {}\n        </ul>\n    )\n}\n","import React, {useState, useEffect} from 'react';\nimport Firebase from 'firebase';\nimport {PageView, initGA} from './Tracking';\nimport {MapLayer} from './MapLayer.js';\nimport {CityDetailView} from './CityDetailView.js'; \n//import {SubmitForm} from './SubmitForm.js';\n//import {IntroScreen} from './IntroScreen';\n//import {About} from './About'\nimport {SecNav} from './SecNav.js'\nimport './CSS/App.css'\n\nconst fetchJSON = async() => {\n  const res = await fetch('/getBlockData');\n  const body = await res.json();\n  if(res.status !== 200) throw Error(body.message)\n  return body;\n}\n\nconst config = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\n}\n\nfunction App() {\n  const [selectedCity, setSelectedCity] = useState(null);\n  const [videoData, setVideoData] = useState({});\n  const [totalCities, setTotalCities] = useState([]);\n  const [isAboutOpen, setIsAboutOpen] = useState(false);\n  const desktopSize = 1024;\n\n  useEffect(()=> {\n    Firebase.initializeApp(config);\n    initGA(process.env.REACT_APP_GA_TRACKING_ID);\n    PageView('Intro')\n    fetchJSON()\n      .then(res => {\n        setVideoData(res.states);\n        let citiesArray = Object.keys(res.states);\n        let urlLocation = window.location.href\n        let hashCity = urlLocation.split('#')[1];\n        if(hashCity !== undefined && hashCity.length>1) {\n          let formattedHashCity = hashCity.charAt(0).toUpperCase() + hashCity.slice(1);\n          if(citiesArray.indexOf(formattedHashCity) !== -1) {\n            setSelectedCity(formattedHashCity);\n          }\n        }\n        setTotalCities(citiesArray);\n      })\n      .catch(err => console.log(err))\n  },[])\n\n  const onNewLinkSubmit = (newData) => {\n    let newPostKey = Firebase.database().ref('/').push();\n    newPostKey.set(newData);\n  }\n\n  const onMarkerClick = (e, city) => {\n    e.preventDefault();\n    if(city){window.location.hash = city; window.scrollTo({top: 0, left: 0, behavior: 'smooth'})}\n    else{window.location.hash = \"\"}\n    if(selectedCity !== city) {\n      setSelectedCity(city);\n    }\n  } \n\n  const onCityDetailClose = (e) => {\n    e && e.preventDefault();\n    setSelectedCity(null)\n  }\n\n  const handleAboutClicked = () => {\n    window.location.hash = \"about\"\n    setIsAboutOpen(true);\n  }\n\n  const handleAboutClose = () => {\n    window.location.hash = \"/\"\n    setIsAboutOpen(false);\n  }\n\n  return (\n    <div className=\"app\">\n      \n      <SecNav handleAboutClicked = {handleAboutClicked}/>\n      <MapLayer className=\"mapLayer\" onMarkerClick={onMarkerClick} videoData={videoData} totalCities={totalCities} desktopSize={desktopSize}/>\n      {selectedCity && <CityDetailView selectedCity={selectedCity} videoData={videoData} onCityDetailClose={onCityDetailClose} desktopSize={desktopSize} />}\n      </div>)\n}\n\nexport default App;\n\n\n ","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}